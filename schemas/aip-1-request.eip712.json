{
  "_IMPORTANT": "This is a TEMPLATE. You MUST parameterize the domain based on your target network:",
  "_networks": {
    "base-sepolia": {
      "chainId": 84532,
      "verifyingContract": "<ACTP_KERNEL_ADDRESS_SEPOLIA>"
    },
    "base-mainnet": {
      "chainId": 8453,
      "verifyingContract": "<ACTP_KERNEL_ADDRESS_MAINNET>"
    }
  },
  "domain": {
    "name": "AGIRAILS",
    "version": "1",
    "chainId": "<REPLACE_WITH_ACTUAL_CHAIN_ID>",
    "verifyingContract": "<REPLACE_WITH_DEPLOYED_KERNEL_ADDRESS>"
  },
  "primaryType": "ServiceRequest",
  "types": {
    "ServiceRequest": [
      { "name": "version", "type": "string" },
      { "name": "serviceType", "type": "string" },
      { "name": "requestId", "type": "string" },
      { "name": "consumer", "type": "string" },
      { "name": "provider", "type": "string" },
      { "name": "chainId", "type": "uint256" },
      { "name": "inputDataHash", "type": "bytes32" },
      { "name": "paymentTermsHash", "type": "bytes32" },
      { "name": "deliveryRequirementsHash", "type": "bytes32" },
      { "name": "metadataHash", "type": "bytes32" },
      { "name": "timestamp", "type": "uint256" }
    ],
    "PaymentTerms": [
      { "name": "amount", "type": "string" },
      { "name": "currency", "type": "string" },
      { "name": "decimals", "type": "uint8" },
      { "name": "maxPrice", "type": "string" },
      { "name": "deadline", "type": "uint256" },
      { "name": "disputeWindow", "type": "uint256" }
    ],
    "DeliveryRequirements": [
      { "name": "format", "type": "string" },
      { "name": "schema", "type": "string" },
      { "name": "minQuality", "type": "uint256" },
      { "name": "maxLatency", "type": "uint256" },
      { "name": "encryptionRequired", "type": "bool" },
      { "name": "encryptionAlgorithm", "type": "string" },
      { "name": "encryptionPublicKey", "type": "string" }
    ]
  },
  "message": {
    "version": "1.0.0",
    "serviceType": "text-generation",
    "requestId": "req_2024_11_16_abc123xyz",
    "consumer": "did:ethr:84532:0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
    "provider": "did:ethr:84532:0x8f4e7d2a9c1b5e3f6a8d2c4e1f7b9a3d5c8e2f6a",
    "chainId": 84532,
    "inputDataHash": "0x7d87c3b8e23a5c9d1f4e6b2a8c5d9e3f1a7b4c6d8e2f5a3b9c1d7e4f6a8b2c5d",
    "paymentTermsHash": "0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b",
    "deliveryRequirementsHash": "0x9f8e7d6c5b4a3f2e1d0c9b8a7f6e5d4c3b2a1f0e9d8c7b6a5f4e3d2c1b0a9f8e",
    "metadataHash": "0x3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f",
    "timestamp": 1731700000
  },
  "_encoding_instructions": {
    "inputDataHash": "keccak256(canonicalJSON(inputData)) - See AIP-0 §3.2 for canonical JSON rules",
    "paymentTermsHash": "keccak256(abi.encode(PaymentTerms struct)) - Use EIP-712 typed struct hash",
    "deliveryRequirementsHash": "keccak256(abi.encode(DeliveryRequirements struct)) - Use EIP-712 typed struct hash. If deliveryRequirements is omitted, use bytes32(0)",
    "metadataHash": "keccak256(canonicalJSON(metadata)) - If metadata is omitted, use bytes32(0)",
    "minQuality_encoding": "Multiply float by 1e18 to convert to fixed-point uint256. Example: 0.85 → 850000000000000000",
    "encryption_encoding": "If encryption object is present: encryptionRequired=true, encryptionAlgorithm=algorithm, encryptionPublicKey=publicKey. If omitted: encryptionRequired=false, encryptionAlgorithm='', encryptionPublicKey=''"
  },
  "_comment": "CRITICAL: This EIP-712 definition uses nested type hashes. See AIP-1 §3.3 for the complete hashing algorithm. All implementations MUST follow the exact encoding rules to produce compatible signatures."
}
